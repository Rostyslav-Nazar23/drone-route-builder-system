# Drone Route Builder System

–°–∏—Å—Ç–µ–º–∞ –ø–ª–∞–Ω—É–≤–∞–Ω–Ω—è –º–∞—Ä—à—Ä—É—Ç—ñ–≤ –ª—ñ—Ç–∞–ª—å–Ω–∏—Ö –¥—Ä–æ–Ω—ñ–≤

## –û–ø–∏—Å

–°–∏—Å—Ç–µ–º–∞ –¥–ª—è –ø–ª–∞–Ω—É–≤–∞–Ω–Ω—è –º–∞—Ä—à—Ä—É—Ç—ñ–≤ –ª—ñ—Ç–∞–ª—å–Ω–∏—Ö –¥—Ä–æ–Ω—ñ–≤ –∑ –ø—ñ–¥—Ç—Ä–∏–º–∫–æ—é:
- –ü–ª–∞–Ω—É–≤–∞–Ω–Ω—è –º–∞—Ä—à—Ä—É—Ç—ñ–≤ –¥–ª—è –æ–¥–Ω–æ–≥–æ –∞–±–æ –∫—ñ–ª—å–∫–æ—Ö –¥—Ä–æ–Ω—ñ–≤
- –ê–ª–≥–æ—Ä–∏—Ç–º–∏ –ø–æ—à—É–∫—É —à–ª—è—Ö—É (A*)
- –í–∞–ª—ñ–¥–∞—Ü—ñ—è –º–∞—Ä—à—Ä—É—Ç—ñ–≤ (no-fly –∑–æ–Ω–∏, –≤–∏—Å–æ—Ç–∞, –µ–Ω–µ—Ä–≥—ñ—è)
- –í—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—è –Ω–∞ —ñ–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ñ–π –∫–∞—Ä—Ç—ñ
- –ï–∫—Å–ø–æ—Ä—Ç —É —Ñ–æ—Ä–º–∞—Ç .plan —Ç–∞ JSON

## –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è

1. –°—Ç–≤–æ—Ä—ñ—Ç—å –≤—ñ—Ä—Ç—É–∞–ª—å–Ω–µ —Å–µ—Ä–µ–¥–æ–≤–∏—â–µ:
```bash
python -m venv venv
source venv/bin/activate  # Linux/Mac
# –∞–±–æ
venv\Scripts\activate  # Windows
```

2. –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ:
```bash
pip install -r requirements.txt
```

3. (–û–ø—Ü—ñ–π–Ω–æ) –ù–∞–ª–∞—à—Ç—É–π—Ç–µ PostgreSQL/PostGIS —á–µ—Ä–µ–∑ Docker:
```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç–∏ –±–∞–∑—É –¥–∞–Ω–∏—Ö (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ)
docker-compose up -d

# –ê–±–æ –≤—Ä—É—á–Ω—É:
docker run --name drone-routes-db \
  -e POSTGRES_USER=postgres \
  -e POSTGRES_PASSWORD=postgres \
  -e POSTGRES_DB=drone_routes \
  -p 5432:5432 \
  -d postgis/postgis:15-3.3
```

–í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å –∑–º—ñ–Ω–Ω—É –æ—Ç–æ—á–µ–Ω–Ω—è –¥–ª—è –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ –ë–î:
```bash
# Windows (PowerShell)
$env:DATABASE_URL="postgresql://postgres:postgres@localhost:5432/drone_routes"

# Linux/Mac
export DATABASE_URL="postgresql://postgres:postgres@localhost:5432/drone_routes"
```

> üìñ **–î–µ—Ç–∞–ª—å–Ω–∞ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è:** –î–∏–≤—ñ—Ç—å—Å—è [DOCKER_SETUP.md](DOCKER_SETUP.md) –¥–ª—è –ø–æ–≤–Ω–æ—ó –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—ó

## –ó–∞–ø—É—Å–∫

### –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç

1. **–í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ:**
   ```bash
   pip install -r requirements.txt
   ```

2. **–ó–∞–ø—É—Å—Ç—ñ—Ç—å Streamlit UI (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ):**
   ```bash
   streamlit run app/streamlit_app.py
   ```
   –í—ñ–¥–∫—Ä–∏–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä –∑–∞ –∞–¥—Ä–µ—Å–æ—é: **http://localhost:8501**

3. **–ê–±–æ –∑–∞–ø—É—Å—Ç—ñ—Ç—å FastAPI Backend:**
   ```bash
   uvicorn app.main:app --reload
   ```
   API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è: **http://localhost:8000/docs**

> üìñ **–î–µ—Ç–∞–ª—å–Ω–∞ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è:** –î–∏–≤—ñ—Ç—å—Å—è [QUICKSTART.md](QUICKSTART.md) –¥–ª—è –ø–æ–∫—Ä–æ–∫–æ–≤–∏—Ö —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ–π —Ç–∞ –ø—Ä–∏–∫–ª–∞–¥—ñ–≤

## –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

### –ß–µ—Ä–µ–∑ Streamlit UI

1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ Streamlit –¥–æ–¥–∞—Ç–æ–∫
2. –ù–∞–ª–∞—à—Ç—É–π—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ –¥—Ä–æ–Ω–∞ –≤ –±—ñ—á–Ω—ñ–π –ø–∞–Ω–µ–ª—ñ
3. –î–æ–¥–∞–π—Ç–µ —Ü—ñ–ª—å–æ–≤—ñ —Ç–æ—á–∫–∏ (–≤—Ä—É—á–Ω—É –∞–±–æ —ñ–º–ø–æ—Ä—Ç—É–π—Ç–µ –∑ —Ñ–∞–π–ª—É)
4. –ù–∞–ª–∞—à—Ç—É–π—Ç–µ –¥–µ–ø–æ (—Å—Ç–∞—Ä—Ç–æ–≤—É —Ç–æ—á–∫—É)
5. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å "Plan Route" –¥–ª—è –ø–ª–∞–Ω—É–≤–∞–Ω–Ω—è –º–∞—Ä—à—Ä—É—Ç—É
6. –ü–µ—Ä–µ–≥–ª—è–Ω—å—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –Ω–∞ –∫–∞—Ä—Ç—ñ
7. –ï–∫—Å–ø–æ—Ä—Ç—É–π—Ç–µ –º–∞—Ä—à—Ä—É—Ç —É —Ñ–æ—Ä–º–∞—Ç .plan –∞–±–æ JSON

### –Ü–º–ø–æ—Ä—Ç –¥–∞–Ω–∏—Ö

–ü—ñ–¥—Ç—Ä–∏–º—É—é—Ç—å—Å—è —Ñ–æ—Ä–º–∞—Ç–∏:
- **CSV**: –∫–æ–ª–æ–Ω–∫–∏ latitude, longitude, altitude, name
- **GeoJSON**: Point features –¥–ª—è waypoints, Polygon/MultiPolygon –¥–ª—è no-fly –∑–æ–Ω

### –ï–∫—Å–ø–æ—Ä—Ç

- **.plan**: —Ñ–æ—Ä–º–∞—Ç QGroundControl –¥–ª—è —ñ–º–ø–æ—Ä—Ç—É –≤ –∞–≤—Ç–æ–ø—ñ–ª–æ—Ç
- **JSON**: —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–≤–∞–Ω–∏–π —Ñ–æ—Ä–º–∞—Ç –¥–ª—è –ø–æ–¥–∞–ª—å—à–æ—ó –æ–±—Ä–æ–±–∫–∏

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ—î–∫—Ç—É

```
app/
‚îú‚îÄ‚îÄ domain/          # –î–æ–º–µ–Ω–Ω—ñ –º–æ–¥–µ–ª—ñ (Mission, Drone, Route, Waypoint)
‚îú‚îÄ‚îÄ data_import/     # –Ü–º–ø–æ—Ä—Ç –¥–∞–Ω–∏—Ö (CSV, GeoJSON)
‚îú‚îÄ‚îÄ environment/      # –ù–∞–≤—ñ–≥–∞—Ü—ñ–π–Ω–∏–π –≥—Ä–∞—Ñ —Ç–∞ –º–æ–¥–µ–ª—å –≤–∞—Ä—Ç–æ—Å—Ç—ñ
‚îú‚îÄ‚îÄ planning/        # –ê–ª–≥–æ—Ä–∏—Ç–º–∏ –ø–ª–∞–Ω—É–≤–∞–Ω–Ω—è (A*, Theta*, D*)
‚îú‚îÄ‚îÄ optimization/    # –û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è (VRP, –≥–µ–Ω–µ—Ç–∏—á–Ω—ñ –∞–ª–≥–æ—Ä–∏—Ç–º–∏)
‚îú‚îÄ‚îÄ validation/      # –í–∞–ª—ñ–¥–∞—Ü—ñ—è –º–∞—Ä—à—Ä—É—Ç—ñ–≤ (–≤–∫–ª—é—á–∞—é—á–∏ –∫—ñ–Ω–µ–º–∞—Ç–∏–∫—É)
‚îú‚îÄ‚îÄ visualization/   # –í—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—è –Ω–∞ –∫–∞—Ä—Ç—ñ (–≤–∫–ª—é—á–∞—é—á–∏ –ø–æ–≥–æ–¥—É)
‚îú‚îÄ‚îÄ export/          # –ï–∫—Å–ø–æ—Ä—Ç –º–∞—Ä—à—Ä—É—Ç—ñ–≤
‚îú‚îÄ‚îÄ weather/         # –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –º–µ—Ç–µ–æ–¥–∞–Ω–∏—Ö
‚îú‚îÄ‚îÄ persistence/     # PostgreSQL/PostGIS –ø—ñ–¥—Ç—Ä–∏–º–∫–∞
‚îú‚îÄ‚îÄ api/             # FastAPI endpoints
‚îú‚îÄ‚îÄ orchestrator/    # –ö–æ–æ—Ä–¥–∏–Ω–∞—Ü—ñ—è –ø–ª–∞–Ω—É–≤–∞–Ω–Ω—è
‚îú‚îÄ‚îÄ main.py          # FastAPI –¥–æ–¥–∞—Ç–æ–∫
‚îî‚îÄ‚îÄ streamlit_app.py # Streamlit UI
```

## –§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å

### –ü–ª–∞–Ω—É–≤–∞–Ω–Ω—è
- **–ê–ª–≥–æ—Ä–∏—Ç–º–∏ –ø–æ—à—É–∫—É —à–ª—è—Ö—É:**
  - A* - —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏–π –∞–ª–≥–æ—Ä–∏—Ç–º
  - Theta* - any-angle pathfinding (–±—ñ–ª—å—à –ø–ª–∞–≤–Ω—ñ –º–∞—Ä—à—Ä—É—Ç–∏)
  - D* - dynamic replanning (–ø—ñ–¥—Ç—Ä–∏–º–∫–∞ –∑–º—ñ–Ω —É —Ä–µ–∞–ª—å–Ω–æ–º—É —á–∞—Å—ñ)
- –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ grid-based —Ç–∞ waypoint-based –≥—Ä–∞—Ñ—ñ–≤
- –£—Ä–∞—Ö—É–≤–∞–Ω–Ω—è –æ–±–º–µ–∂–µ–Ω—å –¥—Ä–æ–Ω–∞ (–≤–∏—Å–æ—Ç–∞, —à–≤–∏–¥–∫—ñ—Å—Ç—å, –±–∞—Ç–∞—Ä–µ—è)
- **VRP (Vehicle Routing Problem)** - –æ–ø—Ç–∏–º–∞–ª—å–Ω–∏–π —Ä–æ–∑–ø–æ–¥—ñ–ª —Ü—ñ–ª—å–æ–≤–∏—Ö —Ç–æ—á–æ–∫ –º—ñ–∂ –¥—Ä–æ–Ω–∞–º–∏
- **–ì–µ–Ω–µ—Ç–∏—á–Ω—ñ –∞–ª–≥–æ—Ä–∏—Ç–º–∏** - –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è –º–∞—Ä—à—Ä—É—Ç—ñ–≤ –¥–ª—è –º—ñ–Ω—ñ–º—ñ–∑–∞—Ü—ñ—ó –≤—ñ–¥—Å—Ç–∞–Ω—ñ —Ç–∞ –µ–Ω–µ—Ä–≥—ñ—ó
- **–Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –º–µ—Ç–µ–æ–¥–∞–Ω–∏—Ö (Open Meteo API)**
  - –í—Ä–∞—Ö—É–≤–∞–Ω–Ω—è –≤—ñ—Ç—Ä—É –ø—Ä–∏ —Ä–æ–∑—Ä–∞—Ö—É–Ω–∫—É –≤–∞—Ä—Ç–æ—Å—Ç—ñ –º–∞—Ä—à—Ä—É—Ç—É
  - –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –±–µ–∑–ø–µ–∫–∏ –ø–æ–ª—å–æ—Ç—É –∑–∞ –ø–æ–≥–æ–¥–Ω–∏–º–∏ —É–º–æ–≤–∞–º–∏
  - –û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è –º–∞—Ä—à—Ä—É—Ç—É –∑ —É—Ä–∞—Ö—É–≤–∞–Ω–Ω—è–º –≤—ñ—Ç—Ä—É (–ø–æ–ø—É—Ç–Ω–∏–π/–∑—É—Å—Ç—Ä—ñ—á–Ω–∏–π)

### –í–∞–ª—ñ–¥–∞—Ü—ñ—è
- –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ no-fly –∑–æ–Ω
- –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –≤–∏—Å–æ—Ç–Ω–∏—Ö –æ–±–º–µ–∂–µ–Ω—å
- –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –µ–Ω–µ—Ä–≥–µ—Ç–∏—á–Ω–∏—Ö –≤–∏—Ç—Ä–∞—Ç
- **–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∫—ñ–Ω–µ–º–∞—Ç–∏—á–Ω–∏—Ö –æ–±–º–µ–∂–µ–Ω—å (Dubins Airplane)**
  - –ú—ñ–Ω—ñ–º–∞–ª—å–Ω–∏–π —Ä–∞–¥—ñ—É—Å –ø–æ–≤–æ—Ä–æ—Ç—É
  - –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞ —à–≤–∏–¥–∫—ñ—Å—Ç—å –ø—ñ–¥–π–æ–º—É/—Å–ø—É—Å–∫—É
  - –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∑–¥—ñ–π—Å–Ω–µ–Ω–Ω–æ—Å—Ç—ñ –º–∞–Ω–µ–≤—Ä—ñ–≤

### –í—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—è
- –Ü–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞ –∫–∞—Ä—Ç–∞ –∑ –º–∞—Ä—à—Ä—É—Ç–∞–º–∏
- –í—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è waypoints, –¥–µ–ø–æ, no-fly –∑–æ–Ω
- **–†–æ–∑—à–∏—Ä–µ–Ω–∞ –≤—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—è –ø–æ–≥–æ–¥–∏:**
  - –ú–∞—Ä–∫–µ—Ä–∏ –ø–æ–≥–æ–¥–∏ –∑ –∫–æ–ª—å–æ—Ä–æ–≤–∏–º –∫–æ–¥—É–≤–∞–Ω–Ω—è–º (–∑–µ–ª–µ–Ω–∏–π/–ø–æ–º–∞—Ä–∞–Ω—á–µ–≤–∏–π/—á–µ—Ä–≤–æ–Ω–∏–π)
  - –°—Ç—Ä—ñ–ª–∫–∏ –Ω–∞–ø—Ä—è–º–∫—É –≤—ñ—Ç—Ä—É
  - –î–µ—Ç–∞–ª—å–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ –ø–æ–≥–æ–¥–Ω—ñ —É–º–æ–≤–∏ (–≤—ñ—Ç–µ—Ä, —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞, –æ–ø–∞–¥–∏, —Ö–º–∞—Ä–Ω—ñ—Å—Ç—å)
- –ú–µ—Ç—Ä–∏–∫–∏ –º–∞—Ä—à—Ä—É—Ç—É

## –†–æ–∑—Ä–æ–±–∫–∞

–°–∏—Å—Ç–µ–º–∞ —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–∞ –º–æ–¥—É–ª—å–Ω–æ –∑ —á—ñ—Ç–∫–∏–º —Ä–æ–∑–¥—ñ–ª–µ–Ω–Ω—è–º –≤—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω–æ—Å—Ç—ñ:
- –î–æ–º–µ–Ω–Ω–∞ –º–æ–¥–µ–ª—å –Ω–µ–∑–∞–ª–µ–∂–Ω–∞ –≤—ñ–¥ UI
- –ê–ª–≥–æ—Ä–∏—Ç–º–∏ –ø–ª–∞–Ω—É–≤–∞–Ω–Ω—è –º–æ–∂—É—Ç—å –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏—Å—è –æ–∫—Ä–µ–º–æ
- –í–∞–ª—ñ–¥–∞—Ü—ñ—è —Ç–∞ –≤—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—è - –æ–∫—Ä–µ–º—ñ –º–æ–¥—É–ª—ñ
- Theta* —Ç–∞ D* –∞–ª–≥–æ—Ä–∏—Ç–º–∏
- VRP –¥–ª—è –º—É–ª—å—Ç–∏–¥—Ä–æ–Ω–æ–≤–∏—Ö –º—ñ—Å—ñ–π
- –ì–µ–Ω–µ—Ç–∏—á–Ω—ñ –∞–ª–≥–æ—Ä–∏—Ç–º–∏ –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó
- –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ PostgreSQL/PostGIS
- Dubins Airplane –¥–ª—è –∫—ñ–Ω–µ–º–∞—Ç–∏—á–Ω–∏—Ö –æ–±–º–µ–∂–µ–Ω—å
- –†–æ–∑—à–∏—Ä–µ–Ω–∞ –≤—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—è –ø–æ–≥–æ–¥–Ω–∏—Ö —É–º–æ–≤ –Ω–∞ –∫–∞—Ä—Ç—ñ

## –õ—ñ—Ü–µ–Ω–∑—ñ—è

–ü—Ä–æ—î–∫—Ç —Å—Ç–≤–æ—Ä–µ–Ω–æ –¥–ª—è –º–∞–≥—ñ—Å—Ç–µ—Ä—Å—å–∫–æ—ó —Ä–æ–±–æ—Ç–∏.

